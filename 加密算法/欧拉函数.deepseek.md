> [!WARNING]
>
> GitHub Markdown 没有展示公式的功能

好的，我们来详细讲解一下**欧拉函数（Euler's Totient Function）**。

欧拉函数是数论中一个非常重要且基础的函数，它在密码学（尤其是RSA加密算法）、模运算等领域有核心应用。

---

### 1. 定义

欧拉函数，通常记为 **φ(n)**，其定义是：

> **对于正整数 n，欧拉函数 φ(n) 表示小于或等于 n 的正整数中，与 n 互质的数的个数。**

**互质（Coprime）** 的意思是：两个数的最大公约数（GCD）为 1。也就是说，这些数与 n 没有除 1 以外的公因数。

**举例说明：**

*   **φ(1) = 1**
    *   因为小于等于 1 且与 1 互质的数只有 1 本身（gcd(1, 1) = 1）。
*   **φ(5) = 4**
    *   小于等于 5 的数有 1, 2, 3, 4, 5。
    *   与 5 互质的数是 1, 2, 3, 4。（因为 5 是质数，所有比它小的数都与之互质）
    *   所以个数是 4。
*   **φ(8) = 4**
    *   小于等于 8 的数有 1, 2, 3, 4, 5, 6, 7, 8。
    *   与 8 互质的数是 **1**, 2, **3**, 4, **5**, 6, **7**, 8。（只有 1, 3, 5, 7 与 8 互质，因为 gcd(1,8)=1, gcd(3,8)=1... gcd(2,8)=2 ≠1）
    *   所以个数是 4。

---

### 2. 性质与计算方法

欧拉函数有几个非常强大的性质，使我们能快速计算 φ(n)。

#### **性质 1：质数 (Prime Number)**

如果 **p** 是一个质数，那么小于等于 p 的所有正整数（除了 p 自己）都与 p 互质。
**公式：φ(p) = p - 1**

*   例子：φ(7) = 6, φ(13) = 12

#### **性质 2：质数的幂 (Prime Power)**

如果 **p** 是质数，**k** 是正整数，那么对于 \( n = p^k \)：
**公式：\( φ(p^k) = p^k - p^{k-1} = p^{k-1}(p-1) \)**

*   **解释**：在小于等于 \( p^k \) 的数中，只有那些是 p 的倍数的数才与 \( p^k \) **不**互质。p 的倍数有 \( p, 2p, 3p, ..., p^{k-1}·p \)，总共有 \( p^{k-1} \) 个。所以，互质的数的个数就是总数减去这些倍数：\( p^k - p^{k-1} \)。
*   例子：
    *   \( φ(8) = φ(2^3) = 2^3 - 2^{2} = 8 - 4 = 4 \)（与我们之前计算的一致）
    *   \( φ(9) = φ(3^2) = 3^2 - 3^{1} = 9 - 3 = 6 \)。（与 9 互质的数：1, 2, 4, 5, 7, 8）

#### **性质 3：积性函数 (Multiplicative Function)**

如果两个正整数 **m** 和 **n** 是**互质**的（即 gcd(m, n) = 1），那么欧拉函数具有积性：
**公式：φ(m * n) = φ(m) * φ(n)**

这个性质是欧拉函数最强大的工具，它允许我们将一个复杂数字的欧拉函数计算分解为其质因数形式的欧拉函数计算。

---

### 3. 通用计算公式

结合以上性质，我们可以得到一个通用的公式：

> 任何一个大于 1 的正整数 n 都可以被**唯一地**分解为质因数的幂的乘积（算术基本定理）：
> \( n = p_1^{k_1} * p_2^{k_2} * ... * p_r^{k_r} \)
> 其中，\( p_1, p_2, ..., p_r \) 是互不相同的质数，\( k_1, k_2, ..., k_r \) 是正整数。

那么，n 的欧拉函数值为：
**\( φ(n) = n * (1 - \frac{1}{p_1}) * (1 - \frac{1}{p_2}) * ... * (1 - \frac{1}{p_r}) \)**

**推导过程：**
1.  根据积性函数性质：\( φ(n) = φ(p_1^{k_1}) * φ(p_2^{k_2}) * ... * φ(p_r^{k_r}) \)
2.  根据质数的幂的性质：\( φ(p_i^{k_i}) = p_i^{k_i} * (1 - \frac{1}{p_i}) \)
3.  代入上式：\( φ(n) = [p_1^{k_1} (1 - \frac{1}{p_1})] * [p_2^{k_2} (1 - \frac{1}{p_2})] * ... * [p_r^{k_r} (1 - \frac{1}{p_r})] \)
4.  整理一下：\( φ(n) = (p_1^{k_1} * p_2^{k_2} * ... * p_r^{k_r}) * (1 - \frac{1}{p_1}) * (1 - \frac{1}{p_2}) * ... * (1 - \frac{1}{p_r}) \)
5.  因为 \( n = p_1^{k_1} * p_2^{k_2} * ... * p_r^{k_r} \)，所以得到最终公式。

**举例：计算 φ(100)**

1.  首先对 100 进行质因数分解：\( 100 = 2^2 * 5^2 \)
2.  应用公式：
    \( φ(100) = 100 * (1 - \frac{1}{2}) * (1 - \frac{1}{5}) \)
    \( = 100 * \frac{1}{2} * \frac{4}{5} \)
    \( = 100 * \frac{4}{10} \)
    \( = 40 \)

所以，小于等于 100 的正整数中，有 40 个数与 100 互质。

---

### 4. 欧拉定理 (Euler's Theorem)

欧拉函数之所以如此重要，很大程度上是因为它构成了**欧拉定理**的核心。

> 如果两个正整数 **a** 和 **n** 互质（即 gcd(a, n) = 1），那么：
> **\( a^{φ(n)} ≡ 1 \ (mod \ n) \)**

这个定理是**费马小定理（Fermat's Little Theorem）** 的推广（费马小定理是当 n 为质数 p 时，φ(p) = p-1，所以 \( a^{p-1} ≡ 1 \ mod \ p \)）。

**应用：**
欧拉定理是 **RSA 公钥加密算法** 的数学基础。RSA 的加密和解密过程都依赖于这个定理确保其正确性。

---

### 总结

| 要点 | 说明 |
| :--- | :--- |
| **定义** | φ(n)：小于等于 n 且与 n 互质的正整数的个数。 |
| **质数** | 若 p 是质数，则 φ(p) = p - 1 |
| **质数的幂** | \( φ(p^k) = p^k - p^{k-1} \) |
| **积性函数** | 若 gcd(m, n)=1，则 φ(m*n) = φ(m) * φ(n) |
| **通用公式** | \( n = \prod p_i^{k_i} \)，则 \( φ(n) = n * \prod (1 - \frac{1}{p_i}) \) |
| **欧拉定理** | 若 gcd(a, n)=1，则 \( a^{φ(n)} ≡ 1 \ (mod \ n) \) |

希望这个解释能帮助你全面理解欧拉函数！它是一个连接质数、互质关系和模幂运算的优美桥梁。
